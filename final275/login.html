<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VoyagerSC Login</title>
<style>

img {
    height: 200px;
    display: block; 
    margin-left: auto; 
    margin-right: auto; 
    padding: -100px;
}
    body {
        font-family: 'Jakarta', sans-serif;
        margin: 0;
        padding: 0;
        margin-top: 40px;
        background-color: white;
    }
    .container {
        max-width: 400px;
        margin: auto;
        margin-top: 50px;
        padding: 20px;
        background-color: #F2F4FA;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    h2 {
        text-align: center;
    }
    input[type="text"], input[type="password"], input[type="submit"] {
        width: 100%;
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        box-sizing: border-box;
    }
    input[type="submit"] {
        background-color: black;
        color: white;
        cursor: pointer;
    }
    input[type="submit"]:hover {
        background-color: orangered;
    }
    #welcome-section {
        margin-top: 50px;
        display: none;
        text-align: center;
        padding: 20px;
        background-color: white;
        border-radius: 8px;
        position: relative; 
    }
    #welcome-section img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-bottom: 10px; 
        position: absolute; 
        top: -10px; 
        left: calc(50% - 25px); 
    }
    #user-greeting {
        margin-top: 50px; 
    }
    #logout-btn {
        margin-top: 20px; 
        padding: 8px 16px;
        background-color: black;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    #logout-btn:hover {
        background-color: orangered;
    }

</style>
</head>
<body>
<div class="logo">
    <img src="img/logo.svg">
</div>
<div class="container" id="login-section">
    <h2>Customer Portal</h2>
    <form id="login-form">
        <input type="text" id="username" placeholder="Username" required>
        <input type="password" id="password" placeholder="Password" required>
        <input type="submit" value="Login">
    </form>
    <h2>Register</h2>
    <form id="register-form">
        <input type="text" id="new-username" placeholder="New Username" required>
        <input type="password" id="new-password" placeholder="New Password" required>
        <input type="submit" value="Register">
    </form>
</div>

<div id="welcome-section">
    <h2>Welcome <span id="user-greeting"></span></h2>
    <img src="img/pfp.png">
    <button id="logout-btn">Logout</button>
</div>

<script>
  const loginForm = document.getElementById('login-form');
const registerForm = document.getElementById('register-form');
const welcomeSection = document.getElementById('welcome-section');
const userGreeting = document.getElementById('user-greeting');
const logoutBtn = document.getElementById('logout-btn');

const loggedInUser = localStorage.getItem('username');
if (loggedInUser) {
    showWelcomeSection(loggedInUser);
}

loginForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const username = document.getElementById('username').value;
    const password = document.getElementById('password').value;

    const storedPassword = localStorage.getItem(username);
    if (storedPassword && password === storedPassword) {
        localStorage.setItem('username', username);
        showWelcomeSection(username);
    } else {
        alert('Invalid username or password.');
    }
});

registerForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const newUsername = document.getElementById('new-username').value;
    const newPassword = document.getElementById('new-password').value;


    if (localStorage.getItem(newUsername)) {
        alert('Username already exists. Please choose a different username.');
        return;
    }


    localStorage.setItem(newUsername, newPassword);


    alert('Registration successful. Please log in.');
});

logoutBtn.addEventListener('click', function() {
    localStorage.removeItem('username');
    welcomeSection.style.display = 'none';
    document.getElementById('username').value = '';
    document.getElementById('password').value = '';
    document.getElementById('new-username').value = '';
    document.getElementById('new-password').value = '';
    document.getElementById('login-section').style.display = 'block';
});

function showWelcomeSection(username) {
    document.getElementById('login-section').style.display = 'none';
    welcomeSection.style.display = 'block';
    userGreeting.textContent = username;
}

</script>

</body>
</html>
